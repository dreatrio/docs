# Политика восстановления

При создании группы виртуальных машин можно выбрать, каким образом будут восстанавливаться ВМ, не прошедшие проверку [работоспособности](../../instance-groups/autohealing.md#auto-healthcheck) или [состояния приложений](../../instance-groups/autohealing.md#functional-healthcheck).

Вы можете определить политику восстановления в YAML-файле, в ключе `auto_healing_policy`.

Управление политикой восстановления доступно с помощью [CLI](../../../../cli/quickstart.md).

Пример записи в YAML-файле:

```yaml
...
auto_healing_policy:
  auto_healing_action: RESTART
...
```

Где:

Ключ | Значение
--- | ---
`auto_healing_action` | Действие для восстановления ВМ. Может быть трех типов:<ul><li>`RESTART` — при возникновении неисправности ВМ будет перезапущена.</li><li>`RECREATE` — при возникновении неисправности изначальная ВМ удалится, а вместо нее развернется новая.<br/>Пересоздание может быть полезно, если данные на ВМ неважны, а ПО необходимо разворачивать заново.</li><li>`NONE` — отключение восстановления для ВМ в группе.<br/>Используется, если необходимо восстановить ВМ вручную, или получить данные с нее для диагностики.</li></ul> Значение по умолчанию — `RESTART`.

Если вы не определили политику восстановления, ВМ будут [автоматически восстанавливаться](../../instance-groups/autohealing.md#healthcheck-cases) в зависимости от настроек [политики развертывания](deploy-policy.md).

#### См. также {#see-also}

* [{#T}](scale-policy.md)
* [{#T}](allocation-policy.md)
* [{#T}](deploy-policy.md)
